
<div class="col">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title"> Слово управления </h5>
            <ul class="list-group list-group-flush">
            <li class="list-group-item list-group-item-secondary" aria-disabled="true">
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                Переменная:&nbsp;&nbsp;
                <select name="cw_variable" id="id_cw_variable" class="form-select" arial-label="Default select">
                    <option value="select_item" {% if not form.EQ_DATA_ROLES_BIT_CW_WORDS %}selected{%endif%}>Не выбран</option>                                
                    {% for item_par in form.DATA_ROLES.variable %}
                        <option value={{ item_par.id }} {% if form.EQ_DATA_ROLES_BIT_CW_WORDS.0.n_variable_id == item_par.id %}selected{% endif %}>{{ item_par.c_desc_variable }}</option>
                    {% endfor %}
                </select>
            </li>
            <div id="cw_new_items">
            </div>
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {

    const cw_new_items = document.getElementById("cw_new_items");

    for (var index = 0; index <=15; index++)
    {
        cw_new_items.innerHTML = cw_new_items.innerHTML + ' \
        <li class="list-group-item d-flex justify-content-between align-items-center" id="id_cw_role'+index+'"> \
            <label style="display:inline-block;width:90px;text-align:left;"> Бит '+index+' </label> \
            <select name="cw_role_bit'+index+'" id="id_cw_role_bit'+index+'" class="form-select" arial-label="Default select"> \
            <option value="select_item" selected>Не выбран</option>\
            {% for item_type in form.ROLES.variable %} \
            <option value={{ item_type.id }}>{{ item_type.c_role_desc }}</option> \
        {% endfor %} \
        </select> \
        </li>'

    }


    var n_bit = [
        {% for item in form.EQ_DATA_ROLES_BIT_CW_WORDS %}
        {{ item.n_bit }},
        {% endfor %}
    ]
    var n_role_id = [
        {% for item in form.EQ_DATA_ROLES_BIT_CW_WORDS %}
        {{ item.n_role_id }},
        {% endfor %}
    ]

    for (var index = 0; index < n_bit.length; index++)
    {
        document.getElementById('id_cw_role_bit'+ n_bit[index]).selectedIndex = n_role_id[index];

    };

    
}); 

</script>